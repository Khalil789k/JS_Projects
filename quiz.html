<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz App</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>

    <div class="bg-blue-800 flex justify-center items-center min-h-screen p-4">
        <!-- Responsive width -->
        <div class="w-full sm:w-3/4 md:w-1/2 lg:w-2/5 bg-white rounded-md p-4 text-gray-700 shadow-xl">

            <div class="font-bold text-2xl border-b-2 border-gray-700 pb-3 text-center">
                QUIZ APP
            </div>

            <div id="questionText" class="text-xl py-2 mb-3 text-center">
                Question Goes Here...
            </div>

            <!-- Options -->
            <div id="optionsEl" class="flex flex-col gap-y-2">
                <!-- Options added by JS -->
            </div>

            <div class="flex justify-center mt-4">
                <button id="nextBtn" class="bg-blue-700 w-1/2 sm:w-1/3 p-2 text-white font-semibold rounded-md">
                    Next
                </button>
            </div>

            <div id="resultsText" class="text-xl text-center font-semibold py-2 mt-4 hidden"></div>

            <div class="flex justify-center mt-4">
                <button id="retryBtn" class="bg-blue-700 w-1/2 sm:w-1/3 p-2 text-white font-semibold rounded-md hidden">
                    Retry
                </button>
            </div>

        </div>
    </div>

    <script>

        const questionsArray = [
            {
                question: "Who was the founder of Pakistan?",
                options: ["Allama Iqbal", "Liaquat Ali Khan", "Muhammad Ali Jinnah", "Sir Syed Ahmed Khan"],
                correct: "Muhammad Ali Jinnah"
            },
            {
                question: "Which is the highest military award of Pakistan?",
                options: ["Nishan-e-Haider", "Sitara-e-Jurat", "Tamgha-e-Shujaat", "Hilal-e-Imtiaz"],
                correct: "Nishan-e-Haider"
            },
            {
                question: "What is the national flower of Pakistan?",
                options: ["Jasmine", "Rose", "Lily", "Sunflower"],
                correct: "Jasmine"
            },
            {
                question: "Which is the largest province of Pakistan by area?",
                options: ["Punjab", "Sindh", "Khyber Pakhtunkhwa", "Balochistan"],
                correct: "Balochistan"
            },
            {
                question: "What is the name of Pakistan's national poet?",
                options: ["Allama Muhammad Iqbal", "Faiz Ahmed Faiz", "Mirza Ghalib", "Ahmad Faraz"],
                correct: "Allama Muhammad Iqbal"
            }
        ];

        const questionText = document.getElementById("questionText");
        const optionsEl = document.getElementById("optionsEl");
        const nextBtn = document.getElementById("nextBtn");
        const resultsText = document.getElementById("resultsText");
        const retryBtn = document.getElementById("retryBtn");

        let currentIndex = 0;
        let score = 0;

        function showData() {
            questionText.textContent = questionsArray[currentIndex].question;

            optionsEl.innerHTML = "";

            questionsArray[currentIndex].options.forEach(option => {
                const btn = document.createElement("button");
                btn.textContent = option;
                btn.className = "px-3 py-2 rounded-md text-left border-2 border-gray-700 hover:bg-gray-100 transition";
                btn.onclick = () => checkAnswer(btn, questionsArray[currentIndex].correct);
                optionsEl.appendChild(btn);
            });
        }

        let selected = false;

        function checkAnswer(button, correctAnswer) {

            if(selected) return;
            selected = true;

            const allButtons = optionsEl.querySelectorAll("button");

            allButtons.forEach(btn => {
                if(btn.textContent === correctAnswer) {
                    btn.classList.add("bg-green-500", "text-white");
                } else if(btn === button) {
                    btn.classList.add("bg-red-500", "text-white");
                }
            });

            if(button.textContent === correctAnswer) {
                score++;
            }
        }

        nextBtn.addEventListener("click", () => {

            if(!selected) return alert("Please select an answer!");

            currentIndex++;
            selected = false;

            if(currentIndex < questionsArray.length) {
                showData();
            } else {
                showResults();
            }

        });

        function showResults () {

            questionText.classList.add("hidden");
            optionsEl.classList.add("hidden");
            nextBtn.classList.add("hidden");

            resultsText.classList.remove("hidden");
            retryBtn.classList.remove("hidden");
            resultsText.textContent = `Your Score : ${score} out of ${questionsArray.length}`;

        }

        retryBtn.addEventListener("click", () => {

            currentIndex = 0;
            score = 0;
            selected = false;

            questionText.classList.remove("hidden");
            optionsEl.classList.remove("hidden");
            nextBtn.classList.remove("hidden");

            resultsText.classList.add("hidden");
            retryBtn.classList.add("hidden");

            showData();
        });

        showData();

    </script>

</body>
</html>
